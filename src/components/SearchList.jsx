import React, { useContext, useEffect, useState } from 'react'
import SearchListElem from './SearchListElem';
import { ThemeContext } from '../ThemeContext';

const SearchList = ( { input }) => {
  
  const {theme, setTheme} = useContext(ThemeContext);

  const LIGHT_GREEN = "#7ccf00";
  const DARK_GREEN = "#9ae600";
  const COLOR_THEME_CONDITIONAL = `${theme == 'light' ? LIGHT_GREEN : DARK_GREEN}`;

  const techStackArr = [
    {
      id: "Javascript",
      detail: "Javascript Detail",
      svg: <svg width="50px" height="50px" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin meet">
              <mask id="jsMask">
                <rect x="0" y="0" width="256" height="256" fill="white"/>
                <path fill="black" d="M67.312 213.932l19.59-11.856c3.78 6.701 7.218 12.371 15.465 12.371 7.905 0 12.89-3.092 12.89-15.12v-81.798h24.057v82.138c0 24.917-14.606 36.259-35.916 36.259-19.245 0-30.416-9.967-36.087-21.996M152.381 211.354l19.588-11.341c5.157 8.421 11.859 14.607 23.715 14.607 9.969 0 16.325-4.984 16.325-11.858 0-8.248-6.53-11.17-17.528-15.98l-6.013-2.58c-17.357-7.387-28.87-16.667-28.87-36.257 0-18.044 13.747-31.792 35.228-31.792 15.294 0 26.292 5.328 34.196 19.247L210.29 147.43c-4.125-7.389-8.591-10.31-15.465-10.31-7.046 0-11.514 4.468-11.514 10.31 0 7.217 4.468 10.14 14.778 14.608l6.014 2.577c20.45 8.765 31.963 17.7 31.963 37.804 0 21.654-17.012 33.51-39.867 33.51-22.339 0-36.774-10.654-43.819-24.574"/>
              </mask>
                <path d="M0 0h256v256H0V0z" fill={`${COLOR_THEME_CONDITIONAL}`} fill-opacity="1" mask="url(#jsMask)"/>
            </svg>
    },
    {
      id: "Typescript",
      detail: "Typescript Detail",
      svg:<svg width="50px" height="50px" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg">
            <path fill={`${COLOR_THEME_CONDITIONAL}`} mask="url(#tsMask)" d="M 25 0 L 231 0 C 244.808594 0 256 11.191406 256 25 L 256 231 C 256 244.808594 244.808594 256 231 256 L 25 256 C 11.191406 256 0 244.808594 0 231 L 0 25 C 0 11.191406 11.191406 0 25 0 Z M 25 0 "/>
            <mask id="tsMask">
              <rect x="0" y="0" width="256" height="256" fill="white"/>
              <path fill="black" d="M 158.46875 203.710938 L 158.46875 228.742188 C 162.539062 230.828125 167.351562 232.390625 172.90625 233.433594 C 178.464844 234.476562 184.320312 235 190.472656 235 C 196.472656 235 202.171875 234.425781 207.574219 233.277344 C 212.972656 232.132812 217.707031 230.242188 221.777344 227.609375 C 225.84375 224.976562 229.066406 221.53125 231.441406 217.28125 C 233.8125 213.03125 235 207.78125 235 201.523438 C 235 196.984375 234.320312 193.007812 232.964844 189.59375 C 231.609375 186.179688 229.652344 183.140625 227.097656 180.480469 C 224.539062 177.820312 221.476562 175.433594 217.902344 173.324219 C 214.328125 171.210938 210.296875 169.21875 205.8125 167.339844 C 202.527344 165.984375 199.578125 164.667969 196.96875 163.390625 C 194.359375 162.113281 192.144531 160.808594 190.316406 159.480469 C 188.492188 158.148438 187.082031 156.742188 186.09375 155.253906 C 185.101562 153.769531 184.605469 152.085938 184.605469 150.210938 C 184.605469 148.488281 185.050781 146.9375 185.9375 145.554688 C 186.824219 144.171875 188.074219 142.988281 189.691406 141.996094 C 191.308594 141.007812 193.292969 140.238281 195.640625 139.6875 C 197.988281 139.140625 200.59375 138.867188 203.464844 138.867188 C 205.550781 138.867188 207.753906 139.023438 210.078125 139.335938 C 212.398438 139.648438 214.734375 140.132812 217.082031 140.785156 C 219.429688 141.4375 221.710938 142.257812 223.925781 143.246094 C 226.144531 144.238281 228.191406 145.386719 230.070312 146.691406 L 230.070312 123.300781 C 226.261719 121.84375 222.101562 120.761719 217.589844 120.054688 C 213.078125 119.351562 207.898438 119 202.054688 119 C 196.109375 119 190.472656 119.640625 185.152344 120.917969 C 179.832031 122.195312 175.152344 124.1875 171.105469 126.898438 C 167.0625 129.613281 163.867188 133.066406 161.523438 137.265625 C 159.175781 141.460938 158 146.480469 158 152.320312 C 158 159.777344 160.152344 166.140625 164.457031 171.40625 C 168.757812 176.675781 175.292969 181.132812 184.058594 184.78125 C 187.5 186.191406 190.710938 187.574219 193.683594 188.929688 C 196.65625 190.285156 199.226562 191.691406 201.390625 193.152344 C 203.554688 194.613281 205.265625 196.203125 206.515625 197.925781 C 207.769531 199.644531 208.394531 201.601562 208.394531 203.789062 C 208.394531 205.40625 208.003906 206.90625 207.21875 208.289062 C 206.4375 209.671875 205.25 210.867188 203.660156 211.886719 C 202.070312 212.902344 200.085938 213.699219 197.714844 214.273438 C 195.339844 214.84375 192.5625 215.132812 189.378906 215.132812 C 183.953125 215.132812 178.582031 214.179688 173.257812 212.277344 C 167.9375 210.375 163.007812 207.519531 158.46875 203.710938 Z M 116.390625 142.039062 L 148.5 142.039062 L 148.5 121.5 L 59 121.5 L 59 142.039062 L 90.953125 142.039062 L 90.953125 233.5 L 116.390625 233.5 Z M 116.390625 142.039062 "/>
            </mask>
          </svg>
      
    },
    {
      id: "HTML 5",
      detail: "Html Detail",
      svg:<svg width="50px" height="50px" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg">
            <path fill={`${COLOR_THEME_CONDITIONAL}`} fill-opacity="0.2" id="right side bg" d="M 128 240.261719 L 188.015625 223.621094 L 202.136719 65.445312 L 128 65.445312 Z M 128 240.261719 "/>
            <g mask="url(#htmlMask)" fill={`${COLOR_THEME_CONDITIONAL}`}>
              <path d="M 53.820312 235.4375 L 37.316406 50.308594 L 218.683594 50.308594 L 202.160156 235.410156 L 127.890625 256 Z M 53.820312 235.4375 "/>
              <path d="M 54.191406 0 L 65.730469 0 L 65.730469 11.398438 L 76.285156 11.398438 L 76.285156 0 L 87.824219 0 L 87.824219 34.523438 L 76.285156 34.523438 L 76.285156 22.960938 L 65.730469 22.960938 L 65.730469 34.523438 L 54.191406 34.523438 Z M 54.191406 0 "/>
              <path d="M 102.996094 11.449219 L 92.839844 11.449219 L 92.839844 0 L 124.699219 0 L 124.699219 11.449219 L 114.535156 11.449219 L 114.535156 34.523438 L 102.996094 34.523438 Z M 102.996094 11.449219 "/>
              <path d="M 129.753906 0 L 141.785156 0 L 149.1875 12.128906 L 156.582031 0 L 168.617188 0 L 168.617188 34.523438 L 157.125 34.523438 L 157.125 17.410156 L 149.1875 29.683594 L 148.988281 29.683594 L 141.046875 17.410156 L 141.046875 34.523438 L 129.753906 34.523438 Z M 129.753906 0 "/>
              <path d="M 174.359375 0 L 185.902344 0 L 185.902344 23.109375 L 202.128906 23.109375 L 202.128906 34.523438 L 174.359375 34.523438 Z M 174.359375 0 "/>
            </g>
            <mask id="htmlMask">
              <rect x="0" y="0" width="256" height="256" fill="white"/>
                <g fill="black">
                  <path id="top left of 5" d="M 128 134.109375 L 97.953125 134.109375 L 95.878906 110.859375 L 128 110.859375 L 128 88.152344 L 71.066406 88.152344 L 71.609375 94.242188 L 77.191406 156.8125 L 128 156.8125 Z M 128 134.109375 "/>
                  <path id="bottom left of 5" d="M 128 193.078125 L 127.902344 193.101562 L 102.613281 186.273438 L 100.996094 168.167969 L 78.203125 168.167969 L 81.386719 203.816406 L 127.894531 216.726562 L 128 216.699219 Z M 128 193.078125 "/>
                  <path id="bottom right of 5" d="M 127.921875 134.109375 L 127.921875 156.8125 L 155.878906 156.8125 L 153.246094 186.261719 L 127.921875 193.09375 L 127.921875 216.71875 L 174.46875 203.816406 L 174.808594 199.980469 L 180.144531 140.207031 L 180.699219 134.109375 Z M 127.921875 134.109375 "/>
                  <path id="top right of 5" d="M 127.921875 88.152344 L 127.921875 110.859375 L 182.765625 110.859375 L 183.222656 105.753906 L 184.253906 94.242188 L 184.796875 88.152344 Z M 127.921875 88.152344 "/>
                </g>
            </mask>
          </svg>
      
    }
  ]

  const [displayList, setDisplayList] = useState(techStackArr);

  const filterList = (filter) => {
    if(filter !== ''){
      return techStackArr.filter(e => e.id.toLowerCase().includes(filter.toLowerCase()));
    }else{
      return techStackArr;
    }
  }

  useEffect(() => {
    setDisplayList(filterList(input));
  }, [input])

  return (
    <>
      {displayList.map(item => (
        <SearchListElem 
          key={item.id}
          id={item.id}
          detail={item.detail}
          svg={item.svg}
        />
      ))}
    </>
  )
}

export default SearchList